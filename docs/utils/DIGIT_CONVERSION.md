# تبدیل اعداد فارسی به انگلیسی

## قانون کلی

در این سیستم، تمامی اعداد (شماره موبایل، رمز عبور، تاریخ و سایر ورودی‌های عددی) به صورت خودکار از اعداد فارسی (۰۱۲۳۴۵۶۷۸۹) به اعداد انگلیسی (0123456789) تبدیل می‌شوند. این تبدیل به صورت خودکار و شفاف برای کاربر انجام می‌شود.

## دلیل اهمیت

- **سازگاری**: بسیاری از سیستم‌ها و الگوریتم‌ها فقط با اعداد انگلیسی کار می‌کنند.
- **یکپارچگی داده**: برای اطمینان از ذخیره‌سازی یکپارچه داده‌ها، همه اعداد باید به فرمت استاندارد باشند.
- **تجربه کاربری**: کاربران می‌توانند با هر صفحه‌کلیدی (فارسی یا انگلیسی) اعداد را وارد کنند و سیستم آنها را به درستی تفسیر می‌کند.

## موارد کاربرد

این تبدیل در موارد زیر اعمال می‌شود:

1. **شماره موبایل**: کاربران می‌توانند شماره موبایل را با اعداد فارسی یا انگلیسی وارد کنند.
2. **رمز عبور**: اگر رمز عبور شامل اعداد باشد، اعداد فارسی به انگلیسی تبدیل می‌شوند.
3. **تاریخ و زمان**: ورودی‌های تاریخ و زمان به صورت خودکار تبدیل می‌شوند.
4. **جستجو**: هنگام جستجو در سیستم، اعداد فارسی به انگلیسی تبدیل می‌شوند تا نتایج دقیق‌تر باشند.

## نحوه پیاده‌سازی

این تبدیل با استفاده از تابع `convertPersianToEnglishNumbers` در فایل `src/utils/stringUtils.ts` انجام می‌شود:

```javascript
// تبدیل اعداد فارسی/عربی به اعداد انگلیسی
export const convertPersianToEnglishNumbers = (str: string): string => {
  if (!str) return str;
  
  // نگاشت اعداد فارسی و عربی به انگلیسی
  const persianDigits = ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹'];
  const arabicDigits = ['٠', '١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩'];
  const englishDigits = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];
  
  // تبدیل اعداد فارسی به انگلیسی
  let result = str;
  for (let i = 0; i < 10; i++) {
    const persianRegex = new RegExp(persianDigits[i], 'g');
    const arabicRegex = new RegExp(arabicDigits[i], 'g');
    
    result = result
      .replace(persianRegex, englishDigits[i])
      .replace(arabicRegex, englishDigits[i]);
  }
  
  return result;
};
```

## برای توسعه‌دهندگان

1. برای هر فیلد ورودی جدید که شامل اعداد است، فراموش نکنید که این تبدیل را اعمال کنید.
2. روش پیشنهادی برای اضافه کردن این قابلیت در فرم‌ها:

```javascript
// در رویداد تغییر فیلد فرم
const handleChange = (e) => {
  const { name, value } = e.target;
  
  // فیلدهایی که نیاز به تبدیل اعداد دارند
  if (name === 'mobile' || name === 'password' || name.includes('date') || name.includes('number')) {
    const convertedValue = convertPersianToEnglishNumbers(value);
    // تغییر مستقیم مقدار در DOM برای تجربه کاربری بهتر
    e.target.value = convertedValue;
    setFormData(prev => ({ ...prev, [name]: convertedValue }));
  } else {
    setFormData(prev => ({ ...prev, [name]: value }));
  }
};
```

## ملاحظات

- این تبدیل فقط شامل اعداد می‌شود و متن فارسی را تغییر نمی‌دهد.
- در برخی موارد خاص ممکن است نیاز باشد این رفتار را غیرفعال کنید. در آن صورت، این مورد را در مستندات آن بخش ذکر کنید. 